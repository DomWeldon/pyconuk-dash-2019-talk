<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Interactive Data Visualization Web Apps with no Javascript: Dom Weldon @ PyConUK 2019 Cardiff</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<!-- If you're reading this you're probably looking for a link to this: https://github.com/hakimel/reveal.js/#basic-setup - Dom x -->
					<h1>Dash</h1>
					<h4>Interactive Data Visualization Web Apps with no Javascript</h4>
					<p>Dom Weldon</p>
					<p><em>Principal Software Engineer, <a href="http://www.decisionlab.co.uk/">decisionLab</a></em></p>
					<p><a href="https://twitter.com/DomWeldon" target="_blank">@DomWeldon</a></p>
				</section>
				<section>
					<h2>
						What you can, can't, <span class="fragment highlight-green">should</span> <span class="fragment highlight-red">and probably shouldn't</span> do with plotly/Dash.
					</h2>
				</section>
				<section>
					<h4>
						This talk:
					</h4>
					<ul>
						<li>
							<span class="fragment highlight-current-red">Basic introduction</span> to Dash, how it works and what you can do with it.
						</li>
						<li>
							Discuss <span class="fragment highlight-current-green">what we've learned</span> at decisionLab from using Dash across teams, including some good practice.
						</li>
						<li class="fragment">
							Looking for <span class="fragment highlight-current-green">feedback and questions</span> at the end!
						</li>
					</ul>
				</section>
				<section>
					<h2>
						Slides
					</h2>
					<p>
						<a href="http://bit.ly/pyconukdash2019slides" target="-_blank">http://bit.ly/pyconukdash2019slides</a>
					</p>
					<h2>
						Code Examples
					</h2>
					<p>
						<a target="_blank" href="http://bit.ly/pyconukdash2019">http://bit.ly/pyconukdash2019</a>
					</p>
				</section>
				<section>
					<section>
						<h2>
							If you're viewing these slides on the web, press the down key whenever you see a ‚¨áÔ∏è
						</h2>
					</section>
					<section>
						<h1>
							üëç
						</h1>
					</section>
				</section>
				<section>
					<h2>I'm <span class="fragment highlight-current-red">not a Dash expert</span> <span class="fragment highlight-current-red">or an author on the project</span></h2>
					<p>This is a <span class="fragment highlight-current-green">talk about using Dash</a> at work, I apologise to plotly/Dash if anything is out of date or incorrect - get in touch!</p>
				</section>
				<section>
					<h1>
						Why am I here?
					</h1>
					<p>I'm a <span class="fragment highlight-current-green">full stack python and javascript developer</span>, why am I <span class="fragment highlight-current-red">using python to write javascript?</span></p>
				</section>
				<section>
					<section>
						<img src="/img/dlab-grey.jpg" alt="decisionLab Ltd. London" />
						<p class="fragment">Mathematical modelling consultancy <span class="fragment highlight-current-red">based in central London</span>.</p>
					</section>
					<section>
						<h1>
							We're hiring!
						</h1>
					</section>
					<section>
						<p>
							Work across defence, infrastructure, intelligence and engineering.
						</p>
						<p>
							We use <span class="fragment highlight-current-green">mathematical models to build tools</span> to help businesses make decisions.
						</p>
					</section>
				</section>
				<section>
					<h2>
						Two cultures? üë©‚Äçüî¨üë®‚Äçüî¨ & üë∑‚Äç‚ôÄÔ∏èüë∑‚Äç‚ôÇÔ∏è
					</h2>
					<p>
						<span class="fragment highlight-current-green">Python Data and Python Software</span>: different tools and approaches.
					</p>
					<p>
						<span class="fragment highlight-current-green">Collaboration is key</span>, but can be <span class="fragment highlight-current-red">very time consuming on small projects</span>.
					</p>
					<p>
						Want to <span class="fragment highlight-current-blue">minimise the new technologies required</span> to get a project off the ground.
					</p>
				</section>
				<section>
					<p>
						If I'm building a very basic proof-of-concept (PoC) app for a client, <span class="fragment highlight-current-blue">I want my data scientist üë©‚Äç to take the lead and rapidly prototype a web application</span>.
					</p>
					<p>
						Their <span class="fragment highlight-current-blue">background probably isn't in web development<span>.
					</p>
					<p class="fragment">
						I üë∑‚Äç‚ôÇÔ∏è want to <span class="fragment highlight-current-blue">facilitate their work and deploy</span> the tools we build.
					</p>
				</section>
				<section>
					<h2>In a tweet...</h2>
				</section>
				<section>
					<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Marc was almost ready to implement his &quot;hello world&quot; React app <a href="https://t.co/ptdg4yteF1">pic.twitter.com/ptdg4yteF1</a></p>&mdash; Thomas Fuchs üåµ (@thomasfuchs) <a href="https://twitter.com/thomasfuchs/status/708675139253174273?ref_src=twsrc%5Etfw">March 12, 2016</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
				</section>

				<section>
					<p>...and so we found Dash.</p>
					<!-- <p class="fragment">(or rather, one of our data scientists found it!)</p> -->
					<p class="fragment"><span class="fragment highlight-current-blue">Open source</span>, with paid consultancy options.</p>
					<p class="fragment">Project describes itself as experimental, although it <span class="fragment highlight-current-green">recently (June) hit version 1.0</span></p>
				</section>
				<section data-background-iframe="https://plot.ly/products/dash/">
					<!-- I know right, it's crazy you can have a webpage as a slide? -->
				</section>

				<section>
					<p>
						No Javascript! <span class="fragment">...and that's a good thing?</span>
					</p>
				</section>

				<section>
					<h2>
						Rest of this talk:
					</h2>
					<ul>
						<li class="fragment highlight-current-blue">
							How does Dash work? Including a Hello World example.
						</li>
						<li class="fragment highlight-current-blue">
							Some examples of what you can do with Dash very quickly.
						</li>
						<li class="fragment highlight-current-blue">
							Tips/good practice on building larger Dash projects (and how to support your colleagues doing this)
						</li>
						<li class="fragment highlight-current-blue">
							An opinion: when to use Dash and when to stop using Dash.
						</li>
						<li>
							Github examples: <a href="https://github.com/DomWeldon/pyconuk-dash-2019-examples" target="_blank">gh/DomWeldon/pyconuk-dash-2019-examples</a>
						</li>
					</ul>
				</section>

				<!-- How does Dash Work? -->
				<section>
					<h2 class="fragment highlight-current-blue">
						So how does Dash work?
					</h2>
					<p><a href="https://github.com/DomWeldon/pyconuk-dash-2019-examples/blob/master/app00.py">A Hello World example</a>.</p>
				</section>
				<section>
					<pre><code>
$ pip install dash
</pre></code>
				</section>
				<section>
					<pre><code>
"""Hello world example."""
import dash
import dash_html_components as html

app = dash.Dash(__name__)

app.layout = html.Div(
    children=[html.H1(children="Hello Cardiff!")]
)

if __name__ == "__main__":
    app.run_server(debug=True)
</code></pre>
				</section>
				<section>
					<pre><code>
$ virtualenv -p python3 venv  # or whatever floats your boat
$ pip install -r requirements.txt
$ python app00.py
</pre></code>
				</section>
				<section>
					<h3><a href="http://localhost:8049" target="_blank">See it live app00.py</a></h3>
				</section>
				<section>
					<h4>
						Dash is composed of several packages. Two at work here:
					</h4>
					<ul>
						<li>
							<span class="fragment highlight-current-blue">Dash HTML Components</span> <span class="fragment highlight-current-green">wraps the core React HTML components</span> (here Div and H1, which come from the HTML specification). We use python to write an HTML style layout.
						</li>
						<li>
							<span class="fragment highlight-current-blue">Dash</span> <span class="fragment highlight-current-green">manages the relationships between the components</span> and <span class="fragment highlight-current-green">serves the layout using Flask</span>.
						</li>
					</ul>
				</section>

				<section>
					<section>
						<h3>
							But... what if I want an <span class="fragment highlight-current-blue">interactive webpage?</span>
						</h3>
						<p class="fragment">
							First: how does this work in JS / HTML?
						</p>
						<p>
							‚¨áÔ∏è
						</p>
					</section>
					<section>
						<pre><code>
<!-- Let's say hello to someone -->
<p>Hello <span id="helloName">there</span>!</p>
<!-- By asking their name -->
<input type="text" id="helloInput" />
</code></pre>
					</section>
					<section>
						<h4>
							3 DOM <span class="fragment highlight-current-green">(Document Object Model)</span> Nodes:
						</h4>
						<ul>
							<li>
								<span class="fragment highlight-current-green">P</span></p>
								<ul>
									<li>
										<span class="fragment highlight-current-green">Span#helloName</span>
									</li>
								</ul>
							</li>
							<li>
								<span class="fragment highlight-current-green">Input#helloInput</span>
							</li>
						</ul>
					</section>
					<section>
						<p>
							We need a script that sets the <span class="fragment highlight-current-blue">innerHTML of Span#helloName</span> to <span class="fragment highlight-current-blue">value of Input#helloInput</span>, and <span class="fragment highlight-current-green">monitors it for changes<span>.
						</p>
						<p>
							<span class="fragment highlight-current-blue">Javacript allows us to manipulate the DOM in the browser</span> to do this.
						</p>
						<p>
							<span class="fragment highlight-current-green">React lets us do this declaratively<span>. Rather than write our own script, we declare the value of something and how it changes.
						</p>
					</section>
					<section>
						<p>
							Precise syntax isn't important, but the <span class="fragment highlight-current-blue">value of Input#helloInput would be a prop</span> to the <span class="fragment highlight-current-blue">Span#helloName component</span>.
						</p>
						<p>
							A <span class="fragment highlight-current-blue">javascript function ultimately defines how the relationship works.
						</p>
						<pre><code>
	const spanHelloName = (helloInputValue) => (
	  <span id="helloName">{helloInputValue}</span>
	);
</pre></code>
					</section>
			</section>

			<!-- Dash Interactivity -->
			<section>
				<section>
					<h2>
						Meanwhile... in Dash...
					</h2>
					<p>
						‚¨áÔ∏è
					</p>
				</section>
				<section>
					<h4>
						Interaction and changes to the layout/DOM are managed by <span class="fragment highlight-current-blue">callbacks</span>. They define relationships between components.
					</h4>
					<p>
						Think of these <span class="fragment highlight-current-blue">a bit like excel<span>.
					</p>
					<p>
						They are <span class="fragment highlight-current-blue">functions that are called whenever any of their inputs change</span>.
					</p>
				</section>
			</section>

			<!-- Updated Hello World example of interactivity. -->
			<section>
				<section>
					<h3>
						Updated Hello World! ‚¨áÔ∏è
					</h3>
				</section>

				<section>
					<p>Give the heading an ID, <span class="fragment highlight-current-green">my-h1</span></p>
					<pre><code data-trim-no-escape>
	app.layout = html.Div(
	    children=[
	        html.H1(id="my-h1"),
	        dcc.Input(
	            id="my-input",
	            value="Cardiff",
	            type="text",
	        ),
	    ]
	)
	</code></pre>
				</section>
				<section>
					<p>Set its value with a <span class="fragment highlight-current-blue">Callback</span>: taking the <span class="fragment highlight-current-blue">value of my-input</span></p>
					<pre><code class="small_code">
	@app.callback(
	    Output(
	        component_id="my-h1",
	        component_property="children",
	    ),
	    [
	        Input(
	            component_id="my-input",
	            component_property="value",
	        )
	    ],
	)
	def update_output_div(input_value: str) -> str:
	    return f"Hello {input_value}!"  # python >=3.6
	</code></pre>
				</section>
				<section>
					<pre><code>
	$ python app01.py
		</pre></code>
				</section>
				<section>
					<h3><a href="http://localhost:8051" target="_blank">See it live app01.py</a></h3>
				</section>
			</section>


			<!-- This results in performance loss -->
			<section>
				<section>
					<h2>
						Important ‚ùó‚¨áÔ∏è
					</h2>
					<p>
						The code defining the relationship between our components now lives in python. The üêç lives on the server.
					</p>
					<p>
						Whereas in a <span class="fragment highlight-current-green">React app, this would all be managed inside the browser</span>, in <span class="fragment highlight-current-red">Dash it now involves a call to the server</span> (to get the new value for the DIV)
					</p>
				</section>
				<section>
					<h1>
						üèéÔ∏è vs üõ¥
					</h1>
					<h3>
						<span class="fragment highlight-current-red">Huge performance loss</span> compared with pure React.
					</h3>
				</section>
				<section>
					<h2 class="fragment highlight-current-green">But that's okay...</h2>
					<p class="fragment">
						I want to <span class="fragment highlight-current-blue">build an app really quickly</span>.
						Using <span class="fragment highlight-current-blue">familiar technologies for data scientists</span>.
						In order to <span class="fragment highlight-current-blue">build a proof-of-concept (PoC), or a very low-use alpha</span>.
					</p>
				</section>
			</section>


			<!-- What can you do with Dash? -->
			<section>
				<h2>
					So what can you do with Dash?
				</h2>
				<p class="fragment">
					As the name implies, it's mostly geared towards <span class="fragment highlight-current-blue">building dashboards</span> to display data. But you can also add more <span class="fragment highlight-current-green">transactional and interactive functionality</span> quite easily.
				</p>
			</section>

			<section>
				<section>
					<h2>1. Display Data Quickly and Easily</h2>
					<h3>app03.py: listing the üõ≥Ô∏è dataset ‚¨áÔ∏è</h3>
				</section>
				<section>
					<h3>
						<a href="https://github.com/DomWeldon/pyconuk-dash-2019-examples/blob/master/app03.py" target="_blank">Full Code Example</a>
					</h3>
				</section>
				<section>
					<pre><code>
app.layout = html.Div(
    children=[
        html.H1("Titanic Dataset"),
        html.H5("Filter by sex:"),
        dcc.Dropdown(
            id="my-dropdown",
            options=[{"label": "All", "value": "both"}]
            + [
                {"label": sex, "value": sex}
                for sex in df.Sex.unique()
            ],
            value="both",
        ),
        html.Div(id="my-div"),
        dash_table.DataTable(
            id="my-table",
            columns=[
                {"name": i, "id": i} for i in df.columns
            ],
            data=[],
        ),
    ]
)
</code></pre>
				</section>
				<section>
					<pre><code>
@app.callback(
    Output(
        component_id="my-table", component_property="data"
    ),
    [
        Input(
            component_id="my-dropdown",
            component_property="value",
        )
    ],
)
def provide_passengers(sex: str) -> Iterable[Mapping]:
    if sex == "both":
        return df.to_dict("rows")

    return df[df.Sex == sex].to_dict("rows")
</code></pre>
				</section>
				<section>
					<h3><a href="http://localhost:8052" target="_blank">See it live app03.py</a></h3>
				</section>
			</section>

			<!-- Displaying Graphs -->
			<section>
				<section>
					<h2>
						Displaying Graphs
					</h2>
					<p>
						Full support for a rich suite of graphing functions.
					</p>
					<p>
						<a href="https://github.com/DomWeldon/pyconuk-dash-2019-examples/blob/master/app03a.py" target="_blank">Full code example</a>
					</p>
				</section>
				<section>
					<pre><code class="small_code">
app.layout = html.Div(
	  children=[
	      html.H1("Titanic Names"),
	      dcc.Graph(
	          id="example-graph",
	          figure={
	              "data": [
	                  {
	                      "x": letters,
	                      "y": freq,
	                      "type": "bar",
	                      "name": "Titanic Passengers By First Name",
	                  }
	              ],
	              "layout": {
	                  "title": (
	                      "Number of Passengers on the Titanic By First "
	                      "Letter of First Name"
	                  )
	              },
	          },
	      ),
	  ]
)</code></pre>
				</section>
				<section>
					<h3><a href="http://localhost:8053" target="_blank">See it live app03a.py</a></h3>
				</section>
			</section>

			<!-- Creating Interactive Graphs Interactive - To Do List -->
			<section>
				<section>
					<h2>Making Interactive "Transactional" Tools</h2>
					<h4>i.e., changing or saving data</h4>
					<p>Example: basic To-Do list <span class="fragment highlight-current-blue">(app04.py)</span> ‚¨áÔ∏è</p>
				</section>
				<section>
					<pre><code class="small_code">
app.layout = html.Div(
  children=[
      html.H1("To Do List"),
      html.Ul(
          id="my-ul",
          children=list_tasks(data_store["tasks"]),
      ),
      dcc.Input(id="my-input"),
      html.Button(
          id="my-button", n_clicks=0, children="Add"
      ),
  ]
)</code></pre>
				</section>
				<section>
					<pre><code class="small_code">
# replace this with a real data store!
data_store = {"tasks": []}

def list_tasks(tasks: Iterable[str]) -> Iterable[html.Li]:
  """Return list items of tasks."""

  return [html.Li(children=task) for task in tasks]</code></pre>
				</section>
				<section>
					<pre><code class="small_code">
@app.callback(
	Output("my-ul", "children"),
	[Input("my-button", "n_clicks")],
	[State("my-input", "value")],
)
def add_task(
	n_clicks: int = 0,
	value: str = None,
	data_store: Mapping[str, Iterable] = data_store,
) -> Iterable[html.Li]:
	"""Called when the button is clicked."""
	if value is not None and len(value.strip()):
			data_store["tasks"].append(value.strip())

	return list_tasks(data_store["tasks"])</code></pre>
				</section>
				<section>
					<h3>
						Key to transactional/interactive interface:
					</h3>
					<ul>
						<li>
							Input causes the <span class="fragment highlight-current-blue">callback to be run whenever this value changes</span> (i.e, button is pushed)
						</li>
						<li>
							State <span class="fragment highlight-current-blue">provides the value of another DOM element</span>, but <span class="fragment highlight-current-blue">does not cause the callback to be fired whenever that value changes</span>.
						</li>
					</ul>
				</section>
				<section>
					<h3><a href="https://github.com/DomWeldon/pyconuk-dash-2019-examples/blob/master/app04.py" target="_blank">Full Code Example</a></h3>
					<h3><a href="http://localhost:8054" target="_blank">See it live app04.py</a></h3>
				</section>
			</section>

			<!-- building your own component: can't access redux -->
			<section>
				<h3>
					You can <span class="fragment highlight-current-blue">build your own</span> Dash components.
				</h3>
				<p class="fragment">
					But the Dash API limits what you can do.
				</p>
				<p class=fragment"">
					Dash prevents you from properly accessing <a href="https://redux.js.org/" target="_blank">Redux</a>.
					Apps tend not to be "smooth" as a result.
				</p>
			</section>

			<!-- An example of all the above things you can do with Dash -->
			<section>
				<h2>
					You can still go very far with Dash!
				</h2>
				<p>
					A <span class="fragment highlight-current-blue">user interface for a machine learning tool</span> used to detect <span class="fragment highlight-current-blue">criminal activity in the Amazon rainforest</span>.
				</p>
			</section>

			<section data-background-image="/img/midas-ml.png" data-background-size="contain">
			</section>


			<!-- Tips for building larger Dask Applications -->
			<section>
				<h2>
					How to get the most out of Dash?
				</h2>
				<p>
					Some tips and lessons learned.
				</p>
			</section>

			<section>
				<ol>
					<li class="fragment">Organize your app</li>
					<!-- <li class="fragment">Stop storing data in files!</li> -->
					<li class="fragment">Build your application using factory functions</li>
					<li class="fragment">Implement routing and navigation</li>
					<li class="fragment">Tooling Up Dash - dependency injection?</li>
				</ol>
			</section>

			<!-- Split up files early and often. -->
			<section>
				<section>
					<h2>
						1. Organize your application! ‚¨áÔ∏è
					</h2>
				</section>
				<section>
					<p class="fragment">
						Dash is novel and experimental, so people are always referring to the docs.
					</p>
					<p class="fragment">
						All the docs <span class="fragment highlight-current-blue">display apps in a single file</span>.
					</p>
					<p class="fragment">
						Result: <span class="fragment highlight-current-red">2,000 line single-file</span> dash apps.
					</p>
					<p class="fragment">
						This may seem like <span class="fragment highlight-current-blue">very basic coding advice</span> but it's important!
					</p>
				</section>
				<section>
					<h3>File Structures</h3>
					<ul>
						<li>
							Split callbacks and layouts into different files
						</li>
						<li>
							Run the app as a module with __main__.py
						</li>
						<li>
							Give sets of fetures their own directories
						</li>
						<li>
							Abstract logical code from callbacks
						</li>
					</ul>
				</section>
				<section>
					<h3><a href="https://github.com/DomWeldon/pyconuk-dash-2019-examples/tree/master/app05" target="_blank">File Structures: app05.py</a></h3>
					<p class="fragment highlight-current-blue">Separation of concerns</p>
					<ul>
						<li>
							__init__.py
						</li>
						<li>
							<span class="fragment highlight-current-blue">__main__.py</span> - runs the app (as module)
						</li>
						<li>
							<span class="fragment highlight-current-blue">app.py</span> - calls dash.Dash() to construct the app
						</li>
						<li>
							<span class="fragment highlight-current-blue">callbacks.py</span> - handles interactions
						</li>
						<li>
							<span class="fragment highlight-current-blue">layouts.py</span> - defines the look of the app
						</li>
					</ul>
				</section>
				<section>
					<pre><code>
$ python -m app05
</pre></code>
				</section>
			</section>


			<!-- factory function for your app -->
			<!-- Implement routing and navigation -->
			<section>
				<section>
					<h2 class="fragment">
						2. Build your app with <span class="fragment highlight-current-blue">factory functions</span>
					</h2>
					<p class="fragment">...because...</p>
					<h2 class="fragment">
						3. This allows easier <span class="fragment highlight-current-blue">routing and navigation!</span> ‚¨áÔ∏è
					</h2>
				</section>
				<section>
					<ul>
						<li>
							At decisionLab, we've <span class="fragment highlight-current-blue">abstracted the Dash interface</span> from our callbacks and layouts.
						</li>
						<li>
							Our <a href="https://github.com/DomWeldon/pyconuk-dash-2019-examples/blob/master/app06/app.py#L9" target="_blank">App class</a> has a <span class="fragment highlight-current-blue">callback decorator which stores callbacks as they are declared<span>.
						</li>
						<li>
							And a <span class="fragment highlight-current-blue">layout decorator which stores layout (i.e., dash components) alongside a route (a string for the URL path).<span>.
						</li>
						<li>
							Our default template and <span class="fragment highlight-current-blue">factory functions then build a dash app</span> based on the modules declared in our application's entry point.
						</li>
					</ul>
				</section>
				<section>
					<h3>
						Why?
					</h3>
					<p>
						This makes our individual modules discrete, reusable and interchangeable.
					</p>
				</section>
				<section>
					<pre><code class="small_code">
"""Run the app."""
from .factory import create_app

from .home import *  # at dL we parameterize this instead
from .todo import *
from .shopping import *

app = create_app()

if __name__ == "__main__":
  app.run_server(debug=True)
</code></pre>
				</section>
				<section>
					<h3>
						Layout...
					</h3>
					<pre><code class="small_code">
def base_layout() -> html.Div:
  """Return a Dash Component which will serve as the top-level layout."""
  # register the layout
  return html.Div(
      [dcc.Location(id='url', refresh=False),] + [html.Div(

          html.Ul([
              html.Li(
                  dcc.Link(
                      route["label"],
                      href=path
                  ),
              )
              for path, route in App._ROUTES.items()
          ])
      ),
      html.Div(id="page_content", children="Click link to continue"),]
  )</code></pre>
				</section>
				<section>
					<h3>
						Methods on our App class.
					</h3>
					<pre><code class="small_code">
@classmethod
def route(cls, path) -> dash.development.base_component.Component:
  """Return the desired layout."""
  try:
      return cls._ROUTES[path]["callable"]()
  except KeyError:
      return cls._not_found()

@staticmethod
def _not_found() -> html.Div:
  return html.Div("Not Found")</code></pre>
				</section>
				<section>
					<pre><code>
$ python -m app06</code></pre>
				</section>

				<section>
					<h3><a href="http://localhost:8056" target="_blank">See it live app06</a></h3>
				</section>
			</section>


			<!-- Implement dependency injection? -->
			<section>
				<section>
					<h2>4. Tooling up Dash: Dependency Injection ‚¨áÔ∏è</h2>
				</section>
				<section>
					<p>
						Once we have a <span class="fragment highlight-current-blue">class to declare and manage the app</span>, and <span class="fragment highlight-current-blue">factory functions to build it</span>, we can start to <span class="fragment highlight-current-blue">integrate other tools to make life for our users easier</span>.
					</p>
				</section>
				<section>
					<p>
						The first such tool we've begun to use is <span class="fragment highlight-current-blue">dependency injection</span>, using <a href="https://github.com/google/pinject" target="_blank">google/pinject</a>.
					</p>
					<p>
						For example, this means users can load pandas dataframes, or connect to a database, just by placing a value in a config file and then adding an argument to a callback or layout.
					</p>
					<p>
						If you're interested in implementing this, please <span class="fragment highlight-current-blue">contact me to talk further!</span>
					</p>
				</section>
			</section>

			<!-- Summary: how is Dash useful? -->
			<!-- When should I switch to using a proper react app? -->
			<section>
				<h2>
					Which brings me to the final point...
				</h2>
				<p>
					When to <span class="fragment highlight-current-red">stop using Dash</span> and start building a <span class="fragment highlight-current-red">"proper" web application?</span>
				</p>
			</section>
			<section>
				<h2>
					Dash is great for...
				</h2>
				<ul>
					<li>
						Rapid UI development by non specialists.
					</li>
					<li>
						Informed UI development: <span class="fragment">data scientists don't have to hand over work to software engineers and can focus on building an app that fits their analysis</span>.
					</li>
				</ul>
			</section>
			<section>
				<h2 class="fragment highlight-current-red">
					But...
				</h2>
				<ul>
					<li>
						Rapid UI development: <span class="fragment">are you creating technical debt, if your app will be rebuilt from scratch in React should you not invest time in JS early on?</span>.
					</li>
					<li>
						Informed UI development: <span class="fragment">informed by whom?</span> <span class="fragment">Dash tools are great, but obviously are limited.</span> <span class="fragment">Do you need a user researcher / UX consultant?</span>
					</li>
				</ul>
			</section>

			<section>
				<p>Some things Dash isn't great at...</p>
				<ul>
					<li class="fragment">
						Authentication (<span class="fragment highlight-current-red">without</span> using plotly accounts)
					</li>
					<li class="fragment">
						Testing...
					</li>
					<li class="fragment">
						Complex interactions where you may wish to incorporate components using <span class="fragment highlight-current-red">complex third party Javascript libraries and use redux</span>.
					</li>
					<li class="fragment">
						Heavy loads. <span class="fragment highlight-current-red">Every keystroke causses a request to the server...</span>
					</li>
				</ul>
			</section>

			<!-- Moral: Dash is great, but manage it well and incorporate it into your team with care -->
			<section>
				<h2 class="fragment highlight-current-red">
					Summary...
				</h2>
				<ul>
					<li>
						Dash is a great tool for <span class="fragment highlight-current-green">facilitating rapid development of data-driven interfaces and dashboards</span>.
					</li>
					<li>
						Investing a bit of time into <span class="fragment highlight-current-green">building tools into it and organizing your code can allow you to go very, very far</span> inside a dash app.
					</li>
					<li class="fragment">
						<span class="fragment highlight-current-green">Front end developers will still have a job</span>
					</li>
				</ul>
			</section>

			<!-- Testing?? -->
			<section>
				<h2>
					Some areas we're working on for the future:
				</h2>
				<ul>
					<li class="fragment">
						Testing: how to automate this in Dash?
					</li>
					<li class="fragment">
						Dash Tooling and Dependency Injection: to be open sourced!
					</li>
					<li class="fragment">
						Open sourcing some of our custom Dash components: inclluding a port for Leaflet maps.
					</li>
				</ul>
			</section>
			<!-- Contact details -->
			<section>
				<h2>
					Thanks for listening!
				</h2>
				<p>
					Please contact me for more:
				</p>
				<p>
					<a href="mailto:dom.weldon@decisionLab.co.uk">dom.weldon@decisionlab.co.uk</a>
				</p>
				<p>
					<p><a href="https://twitter.com/DomWeldon" target="_blank">@DomWeldon</a></p>
				</p>
			</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53026904-2"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'UA-53026904-2');
		</script>

	</body>
</html>
